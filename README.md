# Проект: Телеграм Бот с MiniApp на FastAPI

Данный проект представляет собой демо-бота для парикмахерской с использованием **FastAPI** для поднятия веб-сервера и обработки запросов, а также с реализацией Telegram MiniApp для приема заявок.

Бот работает через вебхуки и взаимодействует с базой данных на **SQLite** с использованием асинхронной алхимии (**SQLAlchemy**, движок **aiosqlite**).

Веб-приложение поддерживает статические страницы и функционал для работы администратора и клиентов.

## Стек технологий:
- **Backend**: FastAPI
- **Telegram API**: Webhooks
- **ORM**: SQLAlchemy (aiosqlite)
- **База данных**: SQLite
- **Миграции**: Alembic

**Вебхук в веб-разработке** — метод расширения или изменения поведения веб-страницы или веб-приложения с помощью обратных вызовов.

Эти обратные вызовы могут поддерживаться, изменяться и управляться сторонними пользователями и разработчиками, которые не обязательно связаны с исходным веб-сайтом или приложением.


## Основные компоненты:
1. **Telegram MiniApp**: Мини-приложение для приема и обработки заявок парикмахерской.
2. **Веб-интерфейс**:
    - Главная страница.
    - Страница оформления заявки.
    - Страница просмотра своих заявок для пользователей.
    - Страница просмотра всех заявок для администратора.
3. **Телеграм-бот**:
    - Возможность добавления ссылки на MiniApp в командное меню, инлайн-клавиатуру и текстовую клавиатуру.
4. **База данных**: Хранение данных о заявках пользователей и их статусе.

**Mini Apps (или же Web Apps)** - это относительно новый и удобный способ добавления веб приложения прямо в интерфейсе Telegram.

Используя JavaScript, становится возможным создавать бесконечное множество интерфейсов, которые смогут заменить полноценный веб-сайт.


## Функционал:
1. **Прием заявок через Telegram MiniApp**: Пользователи могут отправить заявку на услуги парикмахерской через MiniApp.
2. **Просмотр заявок**:
    - Клиенты могут видеть свои отправленные заявки на отдельной странице.
    - Администраторы могут управлять заявками через интерфейс администратора.
3. **Интеграция MiniApp в Telegram**:
    - Установка ссылки на MiniApp в командное меню, инлайн-кнопки и текстовые клавиатуры бота.
4. **Асинхронная работа с базой данных**: Для работы с SQLite используется асинхронный движок **aiosqlite** и ORM SQLAlchemy.
5. **Миграции с Alembic**: Для обновления схемы базы данных используется Alembic.


## Пример GIF-анимации

Ниже представлена анимация, демонстрирующая процесс работы приложения:

<img src="demo.gif" width="600" alt="Демонстрация работы мини-чата" />

## Как запустить проект

### Установка зависимостей:

```bash
pip install -r requirements.txt
```

### Выполнение миграций Alembic

```bash
alembic upgrade head
```

### Запуск проекта

```bash
uvicorn app.main:app
```

**Преподаватель:** Дуплей Максим Игоревич

**Автор основы:** 

**Дата:** 07.10.2024

**Версия:** 1.1
